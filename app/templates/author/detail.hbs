<div class="slide-out-bg"></div>

<div class="slide-out">
  <div class="slide-out-card">
    {{#link-to "author" class="btn-back"}}
      <span class="sr-only">Back</span>
    {{/link-to}}

    <div class="slide-out-heading">
      <div class="title">
        <h3>{{model.last}}, {{model.first}}</h3>

        <div class="actions">
          {{#if (can "edit author" model)}}
            {{#link-to "author.edit" model.id class="btn-pop"}}edit{{/link-to}}
          {{/if}}

          {{#if (can "delete author" model)}}
            <button class="btn-recessed" onclick={{action "deleteAuthor" model}}>delete</button>
          {{/if}}
        </div>
      </div>
      <div class="details">
        <p>
          <strong>Added By:</strong>

          {{model.username}}
        </p>
      </div>
    </div>

    <div class="slide-out-content">
      <div class="title">
        <h3>{{model.books.length}} Books from this author</h3>
      </div>

      <div class="actions">
        {{#if (can "create book")}}
          {{#link-to "author.detail.new-book" model.id class="btn-secondary btn-add"}}
            Add a book
          {{/link-to}}
        {{/if}}
      </div>

      <ul class="book-list">
        {{#each model.books as |book|}}
          <li class="book">
            <p class="book-title">
              {{#link-to "book.detail" book.id}}
                {{book.title}}
              {{/link-to}}
            </p>
            <p class="book-isbn">{{book.isbn}}</p>
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</div>

{{liquid-outlet}}
